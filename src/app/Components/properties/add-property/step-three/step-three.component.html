<div class="container">
  <section
    #scrollContainer
    class="slider-section"
    (mousedown)="startDrag($event)"
    (mouseup)="stopDrag()"
    (mouseleave)="stopDrag()"
    (mousemove)="onDrag($event)"
  >
    <div class="slide-track">
      <div class="slide">
        <img
          *ngFor="let img of images"
          [src]="img"
          alt="Property image"
          draggable="false"
          (click)="openPopup(img)"
        />
      </div>
    </div>
  </section>
</div>

<div class="details">
  <div class="info">
    <div class="info-title">
      <p class="font-500 font-24 uppercase">{{ displayText }}</p>
      <h3 *ngIf="basic.country_id && basic.city_id">
        {{ getCountryName(basic.country_id) }} -
        {{ getCityName(basic.city_id) }}
      </h3>
    </div>
    <div class="info-details" *ngIf="basic.country_id && basic.city_id">
      <div class="row">
        <p class="font-600">Directions:</p>
        <span
          *ngFor="
            let dir of getDirectionNames(basic.exposures);
            let isLast = last
          "
        >
          {{ dir }}<span *ngIf="!isLast">, </span>
        </span>
      </div>
      <div class="row">
        <p class="font-600">Property Type:</p>
        {{ propertyTypes[basic.propertyType - 1].name }}
      </div>
      <div class="row">
        <p class="font-600">Balconies:</p>
        {{ basic.balconies }}
      </div>
      <div class="row">
        <p class="font-600">Bathrooms:</p>
        {{ basic.bathrooms }}
      </div>
      <div class="row">
        <p class="font-600">Area:</p>
        {{ basic.area }}
      </div>
      <div class="row">
        <p class="font-600">Ownership Type:</p>
        {{ getOwnershipNames(basic.ownership_type_id).join(", ") }}
      </div>

      <div class="row" *ngIf="basic.sellType !== 3">
        <p class="font-600">Furnished:</p>
        <span *ngIf="basic.sellType === 1">
          {{ extended.rent.is_furnished ? "Yes" : "No" }}
        </span>
        <span *ngIf="basic.sellType === 2">
          {{ extended.purchase.is_furnished ? "Yes" : "No" }}
        </span>
      </div>

      <div class="row" *ngIf="basic.sellType === 3">
        <p class="font-600">Price Details:</p>
        <div class="off_info">
          <p>Delivery Date: {{ extended.offPlan.delivery_date }}</p>
          <p>Overall Payment: {{ extended.offPlan.overall_payment }}</p>
        </div>
      </div>

      <div class="row">
        <p class="font-600">Amenities:</p>
        {{ getAmenityNames(basic.amenities).join(", ") }}
      </div>
    </div>
  </div>

  <div class="right-section">
    <div class="right-boxes">
      <div class="price-box">
        <div class="card-header">
          <span class="status-dot"></span>
          <span class="residential-text text-primary-clr font-12">
            {{ propertyTypes[basic.propertyType - 1].name }}
          </span>
          <img class="location-icon" src="assets/Icons/Location-line.svg" />
        </div>
        <div class="price-box-text">
          <p class="font-18 text-primary-clr">
            {{ displayText }}
          </p>
        </div>
      </div>
      <div class="contact-box"></div>
    </div>
    <div class="map-box">
      <google-map
        [options]="mapOptions"
        [center]="center"
        width="20rem"
        height="23rem"
      >
        <map-marker [position]="marker"></map-marker>
      </google-map>
      <button (click)="toggleSatellite(true)">Satellite</button>
      <button (click)="toggleSatellite(false)">Roadmap</button>
    </div>
  </div>
</div>
